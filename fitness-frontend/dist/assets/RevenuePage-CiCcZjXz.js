import{j as e}from"./ui-D95r1dMF.js";import{R as t,r as n}from"./vendor-iz3JPVmO.js";import{a,Q as r,E as s,R as i}from"./index-CoDTQVyW.js";import{s as l,t as o,v as d,i as c,w as h,x as m,l as x,y as u,z as p,E as y,F as g,H as f,f as b,n as v,p as w,X as j,Y as D,o as N,R as k,T as R,I as S,P,q as $,r as O}from"./PieChart-Bfs1s9uw.js";import"./utils-CCtIn9I6.js";import"./router-D8KzWLZn.js";var E=["x1","y1","x2","y2","key"],z=["offset"];function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){var a;return a=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=A(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==A(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}function M(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var H=function(e){var n=e.fill;if(!n||"none"===n)return null;var a=e.fillOpacity,r=e.x,s=e.y,i=e.width,l=e.height,o=e.ry;return t.createElement("rect",{x:r,y:s,ry:o,width:i,height:l,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function B(e,n){var a;if(t.isValidElement(e))a=t.cloneElement(e,n);else if(x(e))a=e(n);else{var r=n.x1,s=n.y1,i=n.x2,l=n.y2,o=n.key,d=M(n,E),c=b(d,!1);c.offset;var h=M(c,z);a=t.createElement("line",T({},h,{x1:r,y1:s,x2:i,y2:l,fill:"none",key:o}))}return a}function L(e){var n=e.x,a=e.width,r=e.horizontal,s=void 0===r||r,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map((function(t,r){var i=F(F({},e),{},{x1:n,y1:t,x2:n+a,y2:t,key:"line-".concat(r),index:r});return B(s,i)}));return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Y(e){var n=e.y,a=e.height,r=e.vertical,s=void 0===r||r,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map((function(t,r){var i=F(F({},e),{},{x1:t,y1:n,x2:t,y2:n+a,key:"line-".concat(r),index:r});return B(s,i)}));return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function q(e){var n=e.horizontalFill,a=e.fillOpacity,r=e.x,s=e.y,i=e.width,l=e.height,o=e.horizontalPoints,d=e.horizontal;if(!(void 0===d||d)||!n||!n.length)return null;var c=o.map((function(e){return Math.round(e+s-s)})).sort((function(e,t){return e-t}));s!==c[0]&&c.unshift(0);var h=c.map((function(e,o){var d=!c[o+1]?s+l-e:c[o+1]-e;if(d<=0)return null;var h=o%n.length;return t.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:d,width:i,stroke:"none",fill:n[h],fillOpacity:a,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function G(e){var n=e.vertical,a=void 0===n||n,r=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,o=e.width,d=e.height,c=e.verticalPoints;if(!a||!r||!r.length)return null;var h=c.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==h[0]&&h.unshift(0);var m=h.map((function(e,n){var a=!h[n+1]?i+o-e:h[n+1]-e;if(a<=0)return null;var c=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:l,width:a,height:d,stroke:"none",fill:r[c],fillOpacity:s,className:"recharts-cartesian-grid-bg"})}));return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var K=function(e,t){var n=e.xAxis,a=e.width,r=e.height,s=e.offset;return p(y(F(F(F({},f.defaultProps),n),{},{ticks:g(n,!0),viewBox:{x:0,y:0,width:a,height:r}})),s.left,s.left+s.width,t)},U=function(e,t){var n=e.yAxis,a=e.width,r=e.height,s=e.offset;return p(y(F(F(F({},f.defaultProps),n),{},{ticks:g(n,!0),viewBox:{x:0,y:0,width:a,height:r}})),s.top,s.top+s.height,t)},I={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function W(e){var n,a,r,s,i,p,y=l(),g=o(),f=d(),b=F(F({},e),{},{stroke:null!==(n=e.stroke)&&void 0!==n?n:I.stroke,fill:null!==(a=e.fill)&&void 0!==a?a:I.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:I.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:I.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:I.vertical,verticalFill:null!==(p=e.verticalFill)&&void 0!==p?p:I.verticalFill,x:c(e.x)?e.x:f.left,y:c(e.y)?e.y:f.top,width:c(e.width)?e.width:f.width,height:c(e.height)?e.height:f.height}),v=b.x,w=b.y,j=b.width,D=b.height,N=b.syncWithTicks,k=b.horizontalValues,R=b.verticalValues,S=h(),P=m();if(!c(j)||j<=0||!c(D)||D<=0||!c(v)||v!==+v||!c(w)||w!==+w)return null;var $=b.verticalCoordinatesGenerator||K,O=b.horizontalCoordinatesGenerator||U,E=b.horizontalPoints,z=b.verticalPoints;if((!E||!E.length)&&x(O)){var _=k&&k.length,C=O({yAxis:P?F(F({},P),{},{ticks:_?k:P.ticks}):void 0,width:y,height:g,offset:f},!!_||N);u(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(A(C),"]")),Array.isArray(C)&&(E=C)}if((!z||!z.length)&&x($)){var M=R&&R.length,B=$({xAxis:S?F(F({},S),{},{ticks:M?R:S.ticks}):void 0,width:y,height:g,offset:f},!!M||N);u(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(A(B),"]")),Array.isArray(B)&&(z=B)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(H,{fill:b.fill,fillOpacity:b.fillOpacity,x:b.x,y:b.y,width:b.width,height:b.height,ry:b.ry}),t.createElement(L,T({},b,{offset:f,horizontalPoints:E,xAxis:S,yAxis:P})),t.createElement(Y,T({},b,{offset:f,verticalPoints:z,xAxis:S,yAxis:P})),t.createElement(q,T({},b,{horizontalPoints:E})),t.createElement(G,T({},b,{verticalPoints:z})))}W.displayName="CartesianGrid";var Q=v({chartName:"LineChart",GraphicalChild:w,axisComponents:[{axisType:"xAxis",AxisComp:j},{axisType:"yAxis",AxisComp:D}],formatAxisMap:N});const V=["#2563eb","#10b981","#f59e42","#a78bfa","#f43f5e","#fbbf24"];function X(){const[t,l]=n.useState([]),[o,d]=n.useState([]),[c,h]=n.useState(!1),[m,x]=n.useState("");n.useState(new Date);const[u,p]=n.useState({startDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),endDate:new Date}),[y,g]=n.useState("monthly"),[f,b]=n.useState(0),[v,N]=n.useState(0),[E,z]=n.useState({monthlyRevenue:0,shopRevenue:0}),[A,_]=n.useState([]),[F,C]=n.useState([]);n.useEffect((()=>{T()}),[]);const T=async()=>{var e,t;h(!0),x("");try{const n=localStorage.getItem("access_token"),r=n?{Authorization:`Bearer ${n}`}:{},[s,i,o]=await Promise.all([a.get("admin-dashboard/stats/",{headers:r}),a.get("members/?show_all=true",{headers:r}),a.get("purchases/",{headers:r})]),c=e=>"string"==typeof e?parseFloat(e.replace(" AFN","").replace(",",""))||0:parseFloat(e)||0;z({monthlyRevenue:c(s.data.monthly_revenue),shopRevenue:c(s.data.monthly_revenue_shop)});const h=Array.isArray(i.data)?i.data:(null==(e=i.data)?void 0:e.results)||[],m=Array.isArray(o.data)?o.data:(null==(t=o.data)?void 0:t.results)||[];l(h),d(m)}catch(n){x("Failed to fetch data."),l([]),d([])}h(!1)};function M(e){if(!e)return"";return new Date(e).toISOString().split("T")[0]}function H(e){return M(e)}function B(e){return`${Number(e||0).toLocaleString()} AFN`}function L(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}const Y=e=>{const t=I(e);return`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>${t}</title>\n        <style>\n          @media print {\n            @page {\n              margin: 1in;\n              size: A4;\n            }\n            body {\n              font-family: Arial, sans-serif;\n              font-size: 12px;\n              line-height: 1.4;\n              color: #000;\n            }\n            .no-print {\n              display: none !important;\n            }\n          }\n          \n          body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 20px;\n            background: white;\n          }\n          \n          .report-header {\n            text-align: center;\n            margin-bottom: 30px;\n            border-bottom: 2px solid #2563eb;\n            padding-bottom: 20px;\n          }\n          \n          .report-title {\n            font-size: 24px;\n            font-weight: bold;\n            color: #2563eb;\n            margin-bottom: 10px;\n          }\n          \n          .report-period {\n            font-size: 16px;\n            color: #666;\n            margin-bottom: 5px;\n          }\n          \n          .report-date {\n            font-size: 14px;\n            color: #888;\n          }\n          \n          .summary-section {\n            margin-bottom: 30px;\n          }\n          \n          .summary-cards {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 20px;\n            margin-bottom: 20px;\n          }\n          \n          .summary-card {\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            padding: 15px;\n            text-align: center;\n          }\n          \n          .summary-card h3 {\n            margin: 0 0 10px 0;\n            font-size: 14px;\n            color: #666;\n            text-transform: uppercase;\n          }\n          \n          .summary-card .amount {\n            font-size: 20px;\n            font-weight: bold;\n            color: #2563eb;\n          }\n          \n          .section-title {\n            font-size: 18px;\n            font-weight: bold;\n            color: #333;\n            margin: 30px 0 15px 0;\n            border-bottom: 1px solid #ddd;\n            padding-bottom: 5px;\n          }\n          \n          .data-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 20px;\n          }\n          \n          .data-table th,\n          .data-table td {\n            border: 1px solid #ddd;\n            padding: 8px;\n            text-align: left;\n          }\n          \n          .data-table th {\n            background-color: #f8f9fa;\n            font-weight: bold;\n            font-size: 12px;\n            text-transform: uppercase;\n          }\n          \n          .data-table td {\n            font-size: 11px;\n          }\n          \n          .chart-placeholder {\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            padding: 20px;\n            text-align: center;\n            color: #666;\n            margin-bottom: 20px;\n            background-color: #f8f9fa;\n          }\n          \n          .footer {\n            margin-top: 40px;\n            text-align: center;\n            font-size: 10px;\n            color: #888;\n            border-top: 1px solid #ddd;\n            padding-top: 20px;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="report-header">\n          <div class="report-title">${t}</div>\n          <div class="report-period">${X(e)}</div>\n          <div class="report-date">Generated on: ${(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</div>\n        </div>\n\n        <div class="summary-section">\n          <div class="summary-cards">\n            <div class="summary-card">\n              <h3>Membership Revenue</h3>\n              <div class="amount">${B(f)}</div>\n            </div>\n            <div class="summary-card">\n              <h3>Shop Revenue</h3>\n              <div class="amount">${B(v)}</div>\n            </div>\n            <div class="summary-card">\n              <h3>Total Revenue</h3>\n              <div class="amount">${B(f+v)}</div>\n            </div>\n          </div>\n        </div>\n\n        <div class="section-title">Revenue Trend Data</div>\n        <div class="chart-placeholder">\n          Revenue trend chart data is available in the digital version\n        </div>\n        \n        ${q()}\n        \n        <div class="section-title">Recent Registered Members</div>\n        ${G()}\n        \n        <div class="section-title">Recent Product Sales</div>\n        ${K()}\n        \n        ${F.length>0?`\n          <div class="section-title">Product Sales Summary</div>\n          ${U()}\n        `:""}\n        \n        <div class="footer">\n          <p>This report was generated automatically from the Revenue Management System</p>\n          <p>For questions or concerns, please contact the system administrator</p>\n        </div>\n      </body>\n      </html>\n    `},q=()=>0===A.length?"<p>No revenue data available for this period.</p>":`\n      <table class="data-table">\n        <thead>\n          <tr>\n            <th>Date</th>\n            <th>Membership Revenue</th>\n            <th>Shop Revenue</th>\n            <th>Total Revenue</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${A.map((e=>`\n            <tr>\n              <td>${L(e.date)}</td>\n              <td>${B(e.Membership)}</td>\n              <td>${B(e.Shop)}</td>\n              <td>${B(e.Total)}</td>\n            </tr>\n          `)).join("")}\n        </tbody>\n      </table>\n    `,G=()=>{const e=[...t].filter((e=>{const t=new Date(e.start_date);return t>=new Date(u.startDate)&&t<=new Date(u.endDate)})).sort(((e,t)=>new Date(t.start_date)-new Date(e.start_date)));return 0===e.length?"<p>No members registered in this period.</p>":`\n      <table class="data-table">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Membership Type</th>\n            <th>Monthly Fee</th>\n            <th>Registration Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${e.map((e=>`\n            <tr>\n              <td>${e.name||`${e.first_name||""} ${e.last_name||""}`}</td>\n              <td>${e.membership_type||"Standard"}</td>\n              <td>${B(e.monthly_fee)}</td>\n              <td>${L(e.start_date)}</td>\n            </tr>\n          `)).join("")}\n        </tbody>\n      </table>\n    `},K=()=>{const e=[...o].filter((e=>{const t=new Date(e.date);return t>=new Date(u.startDate)&&t<=new Date(u.endDate)})).sort(((e,t)=>new Date(t.date)-new Date(e.date)));return 0===e.length?"<p>No products sold in this period.</p>":`\n      <table class="data-table">\n        <thead>\n          <tr>\n            <th>Product</th>\n            <th>Quantity</th>\n            <th>Total Price</th>\n            <th>Sale Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${e.map((e=>`\n            <tr>\n              <td>${e.product_name||`Product ${e.product}`}</td>\n              <td>${e.quantity}</td>\n              <td>${B(e.total_price)}</td>\n              <td>${L(e.date)}</td>\n            </tr>\n          `)).join("")}\n        </tbody>\n      </table>\n    `},U=()=>`\n      <table class="data-table">\n        <thead>\n          <tr>\n            <th>Product</th>\n            <th>Total Sales</th>\n            <th>Percentage</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${F.map((e=>{const t=(e.value/v*100).toFixed(1);return`\n              <tr>\n                <td>${e.name}</td>\n                <td>${B(e.value)}</td>\n                <td>${t}%</td>\n              </tr>\n            `})).join("")}\n        </tbody>\n      </table>\n    `,I=e=>{switch(e){case"daily":return"Daily Revenue Report";case"monthly":return"Monthly Revenue Report";case"annual":return"Annual Revenue Report";default:return"Revenue Report"}},X=e=>{const t=L(u.startDate),n=L(u.endDate);return"daily"===e?`Daily Report for ${t}`:"annual"===e?`Annual Report: ${t} - ${n}`:`Report Period: ${t} - ${n}`},J=e=>{const t=new Date;let n,a;switch(e){case"daily":n=new Date(t),n.setHours(0,0,0,0),a=new Date(t),a.setHours(23,59,59,999);break;case"monthly":n=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0),a.setHours(23,59,59,999);break;case"annual":n=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),11,31),a.setHours(23,59,59,999);break;default:n=u.startDate,a=u.endDate}const r=u;p({startDate:n,endDate:a}),setTimeout((()=>{const t=Y(e),n=window.open("","_blank");n.document.write(t),n.document.close(),n.focus(),n.print(),p(r)}),100)},Z=e=>{const t=Y(e),n=new Blob([t],{type:"text/html"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=`${I(e).replace(/\s+/g,"_")}_${(new Date).toISOString().split("T")[0]}.html`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)};n.useEffect((()=>{!function(){const e=o.filter((e=>{const t=new Date(e.date);return t>=new Date(u.startDate)&&t<=new Date(u.endDate)})).reduce(((e,t)=>e+parseFloat(t.total_price||0)),0);N(e);const n=t.filter((e=>{const t=new Date(e.start_date);return t>=new Date(u.startDate)&&t<=new Date(u.endDate)})).reduce(((e,t)=>e+parseFloat(t.monthly_fee||0)),0);b(n);const a=[];let r=new Date(u.startDate);const s=new Date(u.endDate);for(;r<=s;)a.push(M(r)),r=new Date(r.getTime()+864e5);const i=a.map((e=>{const n=o.filter((t=>M(t.date)===e)).reduce(((e,t)=>e+parseFloat(t.total_price||0)),0),a=t.filter((t=>M(t.start_date)===e)).reduce(((e,t)=>e+parseFloat(t.monthly_fee||0)),0);return{date:e,Membership:a,Shop:n,Total:a+n}}));_(i);const l={};o.filter((e=>{const t=new Date(e.date);return t>=new Date(u.startDate)&&t<=new Date(u.endDate)})).forEach((e=>{const t=e.product_name||`Product ${e.product}`;l[t]||(l[t]=0),l[t]+=parseFloat(e.total_price||0)})),C(Object.entries(l).map((([e,t])=>({name:e,value:t}))))}()}),[o,u]);const ee=e=>{g(e);const t=new Date;if("daily"===e){const e=new Date(t);e.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999),p({startDate:e,endDate:n})}else if("weekly"===e){const e=new Date(t);e.setDate(t.getDate()-6),e.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999),p({startDate:e,endDate:n})}else if("monthly"===e){const e=new Date(t.getFullYear(),t.getMonth(),1);e.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999),p({startDate:e,endDate:n})}else if("quarterly"===e){const e=new Date(t);e.setMonth(t.getMonth()-2),e.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999),p({startDate:e,endDate:n})}},te=[...t].filter((e=>{const t=new Date(e.start_date);return t>=new Date(u.startDate)&&t<=new Date(u.endDate)})).sort(((e,t)=>new Date(t.start_date)-new Date(e.start_date))).slice(0,5),ne=[...o].filter((e=>{const t=new Date(e.date);return t>=new Date(u.startDate)&&t<=new Date(u.endDate)})).sort(((e,t)=>new Date(t.date)-new Date(e.date))).slice(0,5);return e.jsxs("div",{className:"p-6 bg-gradient-to-br from-gray-800 via-gray-800 to-black",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Revenue Dashboard"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>T(),className:"bg-gradient-to-r from-yellow-500 to-yellow-600 text-black px-4 py-2 rounded-lg shadow-md hover:from-yellow-600 hover:to-yellow-700 transition-all duration-300",disabled:c,children:c?"Refreshing...":"Refresh Data"})})]}),e.jsxs("div",{className:"bg-gray-700 p-5 rounded-xl shadow-md mb-6 no-print",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[e.jsx(r,{className:"mr-2"}),"Print Reports"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border border-gray-600 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-white mb-2 flex items-center",children:[e.jsx(s,{className:"mr-2 text-blue-500"}),"Daily Report"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Print today's revenue summary"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>J("daily"),className:"flex-1 bg-gradient-to-r from-yellow-500 to-yellow-600 text-black px-3 py-2 rounded text-sm hover:from-yellow-600 hover:to-yellow-700 transition-all duration-300 flex items-center justify-center",children:[e.jsx(r,{className:"mr-1"}),"Print"]}),e.jsxs("button",{onClick:()=>Z("daily"),className:"flex-1 bg-gray-500 text-white px-3 py-2 rounded text-sm hover:bg-gray-600 transition-colors flex items-center justify-center",children:[e.jsx(i,{className:"mr-1"}),"Download"]})]})]}),e.jsxs("div",{className:"border border-gray-600 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-white mb-2 flex items-center",children:[e.jsx(s,{className:"mr-2 text-green-500"}),"Monthly Report"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Print this month's revenue summary"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>J("monthly"),className:"flex-1 bg-green-500 text-white px-3 py-2 rounded text-sm hover:bg-green-600 transition-colors flex items-center justify-center",children:[e.jsx(r,{className:"mr-1"}),"Print"]}),e.jsxs("button",{onClick:()=>Z("monthly"),className:"flex-1 bg-gray-500 text-white px-3 py-2 rounded text-sm hover:bg-gray-600 transition-colors flex items-center justify-center",children:[e.jsx(i,{className:"mr-1"}),"Download"]})]})]}),e.jsxs("div",{className:"border border-gray-600 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-white mb-2 flex items-center",children:[e.jsx(s,{className:"mr-2 text-purple-500"}),"Annual Report"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Print this year's revenue summary"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>J("annual"),className:"flex-1 bg-purple-500 text-white px-3 py-2 rounded text-sm hover:bg-purple-600 transition-colors flex items-center justify-center",children:[e.jsx(r,{className:"mr-1"}),"Print"]}),e.jsxs("button",{onClick:()=>Z("annual"),className:"flex-1 bg-gray-500 text-white px-3 py-2 rounded text-sm hover:bg-gray-600 transition-colors flex items-center justify-center",children:[e.jsx(i,{className:"mr-1"}),"Download"]})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-gray-600 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-300",children:[e.jsx("strong",{children:"Note:"})," Print functionality will generate professional reports with all data tables, summaries, and formatted layouts optimized for printing. Download option saves reports as HTML files."]})})]}),m&&e.jsx("div",{className:"bg-red-900/50 text-red-300 p-4 mb-6 rounded-lg border border-red-500/50",children:m}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Membership Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:B(f)}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[M(u.startDate)," - ",M(u.endDate)]})]}),e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Shop Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:B(v)}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[M(u.startDate)," - ",M(u.endDate)]})]}),e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:B(f+v)})]})]}),e.jsxs("div",{className:"bg-gray-700 p-5 rounded-xl shadow-md mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Revenue Time Period"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("button",{className:"px-4 py-2 rounded "+("daily"===y?"bg-yellow-500 text-black":"bg-gray-600 text-white"),onClick:()=>ee("daily"),children:"Today"}),e.jsx("button",{className:"px-4 py-2 rounded "+("weekly"===y?"bg-yellow-500 text-black":"bg-gray-600 text-white"),onClick:()=>ee("weekly"),children:"Last 7 Days"}),e.jsx("button",{className:"px-4 py-2 rounded "+("monthly"===y?"bg-yellow-500 text-black":"bg-gray-600 text-white"),onClick:()=>ee("monthly"),children:"This Month"}),e.jsx("button",{className:"px-4 py-2 rounded "+("quarterly"===y?"bg-yellow-500 text-black":"bg-gray-600 text-white"),onClick:()=>ee("quarterly"),children:"Last 3 Months"}),e.jsx("button",{className:"px-4 py-2 rounded "+("custom"===y?"bg-yellow-500 text-black":"bg-gray-600 text-white"),onClick:()=>g("custom"),children:"Custom Range"})]}),"custom"===y&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:H(u.startDate),onChange:e=>(e=>{const t=new Date(e);t.setHours(0,0,0,0),p((e=>({...e,startDate:t})))})(new Date(e.target.value)),max:H(new Date),className:"border border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500 bg-gray-800 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:H(u.endDate),onChange:e=>(e=>{const t=new Date(e);t.setHours(23,59,59,999),p((e=>({...e,endDate:t})))})(new Date(e.target.value)),max:H(new Date),className:"border border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500 bg-gray-800 text-white"})]})]})]}),e.jsxs("div",{className:"bg-gray-700 p-5 rounded-xl shadow-md mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Revenue Trend"}),e.jsx(k,{width:"100%",height:300,children:e.jsxs(Q,{data:A,children:[e.jsx(W,{strokeDasharray:"3 3",stroke:"#4B5563"}),e.jsx(j,{dataKey:"date",tick:{fill:"#E5E7EB",fontSize:12},axisLine:{stroke:"#6B7280"}}),e.jsx(D,{tick:{fill:"#E5E7EB",fontSize:12},axisLine:{stroke:"#6B7280"}}),e.jsx(R,{contentStyle:{backgroundColor:"#374151",border:"1px solid #6B7280",borderRadius:"8px",color:"#E5E7EB"}}),e.jsx(S,{wrapperStyle:{color:"#E5E7EB"}}),e.jsx(w,{type:"monotone",dataKey:"Membership",stroke:"#3B82F6",strokeWidth:2,name:"Membership Revenue"}),e.jsx(w,{type:"monotone",dataKey:"Shop",stroke:"#10B981",strokeWidth:2,name:"Shop Revenue"}),e.jsx(w,{type:"monotone",dataKey:"Total",stroke:"#EAB308",strokeWidth:3,name:"Total Revenue"})]})})]}),e.jsxs("div",{className:"bg-gray-700 p-5 rounded-xl shadow-md mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Product Sales Distribution"}),F.length>0?e.jsx(k,{width:"100%",height:300,children:e.jsxs(P,{children:[e.jsx($,{data:F,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:F.map(((t,n)=>e.jsx(O,{fill:V[n%V.length]},`cell-${n}`)))}),e.jsx(R,{}),e.jsx(S,{})]})}):e.jsx("div",{className:"text-gray-300 text-center py-12",children:"No product sales in this period."})]}),e.jsxs("div",{className:"bg-gray-700 p-5 rounded-xl shadow-md mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Registered Members"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Membership"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Fee"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Registered"})]})}),e.jsx("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:te.length>0?te.map(((t,n)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 text-white",children:t.name||`${t.first_name||""} ${t.last_name||""}`}),e.jsx("td",{className:"px-4 py-2 text-gray-300",children:t.membership_type||"Standard"}),e.jsx("td",{className:"px-4 py-2 text-gray-300",children:B(t.monthly_fee)}),e.jsx("td",{className:"px-4 py-2 text-gray-300",children:M(t.start_date)})]},n))):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center text-gray-300 py-4",children:"No recent members."})})})]})})]}),e.jsxs("div",{className:"bg-gray-700 p-5 rounded-xl shadow-md mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Sold Products"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Price"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:ne.length>0?ne.map(((t,n)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 text-white",children:t.product_name||`Product ${t.product}`}),e.jsx("td",{className:"px-4 py-2 text-gray-300",children:t.quantity}),e.jsx("td",{className:"px-4 py-2 text-gray-300",children:B(t.total_price)}),e.jsx("td",{className:"px-4 py-2 text-gray-300",children:M(t.date)})]},n))):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center text-gray-300 py-4",children:"No recent sales."})})})]})})]})]})}export{X as default};
